!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";(function(t){const r=n(4),o=n(18),s=(n(19),{}),i=e=>{const n=/\${(\w*:?[\w\d.-]+)}/g;let r=!1;const s=o(e).forEach((function(e){const o="string"==typeof e?e.match(n):null;if(o){let n=e;for(const e of o)if(/\${env:(\w*[\w.-_]+)}/g.test(e)){const o=e.substring(2,e.length-1).split(":");n=t.env[o[1]],r=!0}this.update(n)}}));return r?i(s):s};s.sleep=async e=>new Promise(t=>setTimeout(()=>t(),e)),s.request=async e=>{const t={url:e.endpoint,method:e.method||"POST",headers:{"Content-Type":"application/json"},data:e.data};e.accessKey&&(t.headers.authorization="Bearer "+e.accessKey),e.headers&&(t.headers={...t.headers,...e.headers});try{const e=r.create();return(await e(t)).data}catch(e){if(e.response&&e.response.data){const t=e.response.data;let n,r;t.message?(({message:n}=t),r=t.name||null):t.errorMessage?(r="Error",n=t.errorMessage):t.errors&&t.errors.length&&(n=t.errors.map(e=>e.message).join(", "),r=t.errors.map(e=>e.name).join(", "));const o=new Error(n);throw o.statusCode=t.statusCode||e.response.status||null,o.name=r,o.details=t.details||null,o.url=e.response.config.url||null,o}throw e}},s.resolveInputEnvVariables=i,e.exports=s}).call(this,n(2))},function(e,t){},function(e,t){var n,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c,u=[],l=!1,p=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=a(d);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";t.decode=t.parse=n(8),t.encode=t.stringify=n(9)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ge})),n.d(t,"Axios",(function(){return Je})),n.d(t,"AxiosError",(function(){return Ve})),n.d(t,"CanceledError",(function(){return He})),n.d(t,"isCancel",(function(){return We})),n.d(t,"CancelToken",(function(){return Qe})),n.d(t,"VERSION",(function(){return Xe})),n.d(t,"all",(function(){return Ze})),n.d(t,"Cancel",(function(){return Ye})),n.d(t,"isAxiosError",(function(){return et})),n.d(t,"spread",(function(){return tt})),n.d(t,"toFormData",(function(){return nt})),n.d(t,"AxiosHeaders",(function(){return rt})),n.d(t,"HttpStatusCode",(function(){return ot})),n.d(t,"formToJSON",(function(){return st})),n.d(t,"getAdapter",(function(){return it})),n.d(t,"mergeConfig",(function(){return at}));var r={};function o(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,"hasBrowserEnv",(function(){return ne})),n.d(r,"hasStandardBrowserWebWorkerEnv",(function(){return se})),n.d(r,"hasStandardBrowserEnv",(function(){return re}));const{toString:s}=Object.prototype,{getPrototypeOf:i}=Object,a=(c=Object.create(null),e=>{const t=s.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>a(t)===e),l=e=>t=>typeof t===e,{isArray:p}=Array,d=l("undefined");const f=u("ArrayBuffer");const h=l("string"),m=l("function"),g=l("number"),y=e=>null!==e&&"object"==typeof e,v=e=>{if("object"!==a(e))return!1;const t=i(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},w=u("Date"),b=u("File"),E=u("Blob"),O=u("FileList"),N=u("URLSearchParams");function S(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),p(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let i;for(r=0;r<s;r++)i=o[r],t.call(null,e[i],i,e)}}function A(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window,x=e=>!d(e)&&e!==T;const $=(P="undefined"!=typeof Uint8Array&&i(Uint8Array),e=>P&&e instanceof P);var P;const K=u("HTMLFormElement"),D=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),j=u("RegExp"),k=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};S(n,(n,o)=>{let s;!1!==(s=t(n,o,e))&&(r[o]=s||n)}),Object.defineProperties(e,r)},R="abcdefghijklmnopqrstuvwxyz",U={DIGIT:"0123456789",ALPHA:R,ALPHA_DIGIT:R+R.toUpperCase()+"0123456789"};const _=u("AsyncFunction");var q={isArray:p,isArrayBuffer:f,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=a(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&f(e.buffer),t},isString:h,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:y,isPlainObject:v,isUndefined:d,isDate:w,isFile:b,isBlob:E,isRegExp:j,isFunction:m,isStream:e=>y(e)&&m(e.pipe),isURLSearchParams:N,isTypedArray:$,isFileList:O,forEach:S,merge:function e(){const{caseless:t}=x(this)&&this||{},n={},r=(r,o)=>{const s=t&&A(n,o)||o;v(n[s])&&v(r)?n[s]=e(n[s],r):v(r)?n[s]=e({},r):p(r)?n[s]=r.slice():n[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&S(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(S(t,(t,r)=>{n&&m(t)?e[r]=o(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,s,a;const c={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)a=o[s],r&&!r(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==n&&i(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:u,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:K,hasOwnProperty:D,hasOwnProp:D,reduceDescriptors:k,freezeMethods:e=>{k(e,(t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return p(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:A,global:T,isContextDefined:x,ALPHABET:U,generateString:(e=16,t=U.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=p(e)?[]:{};return S(e,(e,t)=>{const s=n(e,r+1);!d(s)&&(o[t]=s)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:_,isThenable:e=>e&&(y(e)||m(e))&&m(e.then)&&m(e.catch)};function C(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}q.inherits(C,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const I=C.prototype,L={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{L[e]={value:e}}),Object.defineProperties(C,L),Object.defineProperty(I,"isAxiosError",{value:!0}),C.from=(e,t,n,r,o,s)=>{const i=Object.create(I);return q.toFlatObject(e,i,(function(e){return e!==Error.prototype}),e=>"isAxiosError"!==e),C.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};var B=C;function F(e){return q.isPlainObject(e)||q.isArray(e)}function M(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function z(e,t,n){return e?e.concat(t).map((function(e,t){return e=M(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const G=q.toFlatObject(q,{},null,(function(e){return/^is[A-Z]/.test(e)}));var J=function(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!q.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,s=n.dots,i=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(q.isDate(e))return e.toISOString();if(!a&&q.isBlob(e))throw new B("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(e)||q.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let a=e;if(e&&!o&&"object"==typeof e)if(q.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(q.isArray(e)&&function(e){return q.isArray(e)&&!e.some(F)}(e)||(q.isFileList(e)||q.endsWith(n,"[]"))&&(a=q.toArray(e)))return n=M(n),a.forEach((function(e,r){!q.isUndefined(e)&&null!==e&&t.append(!0===i?z([n],r,s):null===i?n:n+"[]",c(e))})),!1;return!!F(e)||(t.append(z(o,n,s),c(e)),!1)}const l=[],p=Object.assign(G,{defaultVisitor:u,convertValue:c,isVisitable:F});if(!q.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!q.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),q.forEach(n,(function(n,s){!0===(!(q.isUndefined(n)||null===n)&&o.call(t,n,q.isString(s)?s.trim():s,r,p))&&e(n,r?r.concat(s):[s])})),l.pop()}}(e),t};function V(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function H(e,t){this._pairs=[],e&&J(e,this,t)}const W=H.prototype;W.append=function(e,t){this._pairs.push([e,t])},W.toString=function(e){const t=e?function(t){return e.call(this,t,V)}:V;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Q=H;function X(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Z(e,t,n){if(!t)return e;const r=n&&n.encode||X,o=n&&n.serialize;let s;if(s=o?o(t,n):q.isURLSearchParams(t)?t.toString():new Q(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}var Y=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},te={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ne="undefined"!=typeof document,re=(oe="undefined"!=typeof navigator&&navigator.product,ne&&["ReactNative","NativeScript","NS"].indexOf(oe)<0);var oe;const se="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var ie={...r,...te};var ae=function(e){function t(e,n,r,o){let s=e[o++];const i=Number.isFinite(+s),a=o>=e.length;if(s=!s&&q.isArray(r)?r.length:s,a)return q.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&q.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],o)&&q.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(e,r)=>{t(function(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const ce={transitional:ee,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=q.isObject(e);o&&q.isHTMLForm(e)&&(e=new FormData(e));if(q.isFormData(e))return r&&r?JSON.stringify(ae(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return J(e,new ie.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ie.isNode&&q.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return J(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ce.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&q.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw B.from(e,B.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ie.classes.FormData,Blob:ie.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{ce.headers[e]={}});var ue=ce;const le=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const pe=Symbol("internals");function de(e){return e&&String(e).trim().toLowerCase()}function fe(e){return!1===e||null==e?e:q.isArray(e)?e.map(fe):String(e)}function he(e,t,n,r,o){return q.isFunction(r)?r.call(this,t,n):(o&&(t=n),q.isString(t)?q.isString(r)?-1!==t.indexOf(r):q.isRegExp(r)?r.test(t):void 0:void 0)}class me{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=de(t);if(!o)throw new Error("header name must be a non-empty string");const s=q.findKey(r,o);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=fe(e))}const s=(e,t)=>q.forEach(e,(e,n)=>o(e,n,t));return q.isPlainObject(e)||e instanceof this.constructor?s(e,t):q.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&le[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=de(e)){const n=q.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(q.isFunction(t))return t.call(this,e,n);if(q.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=de(e)){const n=q.findKey(this,e);return!(!n||void 0===this[n]||t&&!he(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=de(e)){const o=q.findKey(n,e);!o||t&&!he(0,n[o],o,t)||(delete n[o],r=!0)}}return q.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!he(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return q.forEach(this,(r,o)=>{const s=q.findKey(n,o);if(s)return t[s]=fe(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();i!==o&&delete t[o],t[i]=fe(r),n[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return q.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&q.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[pe]=this[pe]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=de(e);t[r]||(!function(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return q.isArray(e)?e.forEach(r):r(e),this}}me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),q.reduceDescriptors(me.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),q.freezeMethods(me);var ge=me;function ye(e,t){const n=this||ue,r=t||n,o=ge.from(r.headers);let s=r.data;return q.forEach(e,(function(e){s=e.call(n,s,o.normalize(),t?t.status:void 0)})),o.normalize(),s}function ve(e){return!(!e||!e.__CANCEL__)}function we(e,t,n){B.call(this,null==e?"canceled":e,B.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(we,B,{__CANCEL__:!0});var be=we;var Ee=ie.hasStandardBrowserEnv?{write(e,t,n,r,o,s){const i=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),q.isString(r)&&i.push("path="+r),q.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Oe(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Ne=ie.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=q.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};var Se=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,s=0,i=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=r[i];o||(o=c),n[s]=a,r[s]=c;let l=i,p=0;for(;l!==s;)p+=n[l++],l%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const d=u&&c-u;return d?Math.round(1e3*p/d):void 0}};function Ae(e,t){let n=0;const r=Se(50,250);return o=>{const s=o.loaded,i=o.lengthComputable?o.total:void 0,a=s-n,c=r(a);n=s;const u={loaded:s,total:i,progress:i?s/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&s<=i?(i-s)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const Te={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const o=ge.from(e.headers).normalize();let s,i,{responseType:a,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(q.isFormData(r))if(ie.hasStandardBrowserEnv||ie.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(i=o.getContentType())){const[e,...t]=i?i.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const p=Oe(e.baseURL,e.url);function d(){if(!l)return;const r=ge.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new B("Request failed with status code "+n.status,[B.ERR_BAD_REQUEST,B.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),Z(p,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(d)},l.onabort=function(){l&&(n(new B("Request aborted",B.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new B("Network Error",B.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||ee;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new B(t,r.clarifyTimeoutError?B.ETIMEDOUT:B.ECONNABORTED,e,l)),l=null},ie.hasStandardBrowserEnv&&(c&&q.isFunction(c)&&(c=c(e)),c||!1!==c&&Ne(p))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Ee.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in l&&q.forEach(o.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),q.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",Ae(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Ae(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(n(!t||t.type?new be(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(p);f&&-1===ie.protocols.indexOf(f)?n(new B("Unsupported protocol "+f+":",B.ERR_BAD_REQUEST,e)):l.send(r||null)}))}};q.forEach(Te,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const xe=e=>"- "+e,$e=e=>q.isFunction(e)||null===e||!1===e;var Pe=e=>{e=q.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!$e(n)&&(r=Te[(t=String(n)).toLowerCase()],void 0===r))throw new B(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+s]=r}if(!r){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let n=t?e.length>1?"since :\n"+e.map(xe).join("\n"):" "+xe(e[0]):"as no adapter specified";throw new B("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Ke(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new be(null,e)}function De(e){Ke(e),e.headers=ge.from(e.headers),e.data=ye.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Pe(e.adapter||ue.adapter)(e).then((function(t){return Ke(e),t.data=ye.call(e,e.transformResponse,t),t.headers=ge.from(t.headers),t}),(function(t){return ve(t)||(Ke(e),t&&t.response&&(t.response.data=ye.call(e,e.transformResponse,t.response),t.response.headers=ge.from(t.response.headers))),Promise.reject(t)}))}const je=e=>e instanceof ge?e.toJSON():e;function ke(e,t){t=t||{};const n={};function r(e,t,n){return q.isPlainObject(e)&&q.isPlainObject(t)?q.merge.call({caseless:n},e,t):q.isPlainObject(t)?q.merge({},t):q.isArray(t)?t.slice():t}function o(e,t,n){return q.isUndefined(t)?q.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!q.isUndefined(t))return r(void 0,t)}function i(e,t){return q.isUndefined(t)?q.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,s){return s in t?r(n,o):s in e?r(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t)=>o(je(e),je(t),!0)};return q.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=c[r]||o,i=s(e[r],t[r],r);q.isUndefined(i)&&s!==a||(n[r]=i)})),n}const Re={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Re[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ue={};Re.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,s)=>{if(!1===e)throw new B(r(o," has been removed"+(t?" in "+t:"")),B.ERR_DEPRECATED);return t&&!Ue[o]&&(Ue[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}};var _e={assertOptions:function(e,t,n){if("object"!=typeof e)throw new B("options must be an object",B.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new B("option "+s+" must be "+n,B.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new B("Unknown option "+s,B.ERR_BAD_OPTION)}},validators:Re};const qe=_e.validators;class Ce{constructor(e){this.defaults=e,this.interceptors={request:new Y,response:new Y}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ke(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&_e.assertOptions(n,{silentJSONParsing:qe.transitional(qe.boolean),forcedJSONParsing:qe.transitional(qe.boolean),clarifyTimeoutError:qe.transitional(qe.boolean)},!1),null!=r&&(q.isFunction(r)?t.paramsSerializer={serialize:r}:_e.assertOptions(r,{encode:qe.function,serialize:qe.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&q.merge(o.common,o[t.method]);o&&q.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=ge.concat(s,o);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,p=0;if(!a){const e=[De.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);p<l;)u=u.then(e[p++],e[p++]);return u}l=i.length;let d=t;for(p=0;p<l;){const e=i[p++],t=i[p++];try{d=e(d)}catch(e){t.call(this,e);break}}try{u=De.call(this,d)}catch(e){return Promise.reject(e)}for(p=0,l=c.length;p<l;)u=u.then(c[p++],c[p++]);return u}getUri(e){return Z(Oe((e=ke(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}q.forEach(["delete","get","head","options"],(function(e){Ce.prototype[e]=function(t,n){return this.request(ke(n||{},{method:e,url:t,data:(n||{}).data}))}})),q.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(ke(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ce.prototype[e]=t(),Ce.prototype[e+"Form"]=t(!0)}));var Ie=Ce;class Le{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new be(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Le((function(t){e=t})),cancel:e}}}var Be=Le;const Fe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fe).forEach(([e,t])=>{Fe[t]=e});var Me=Fe;const ze=function e(t){const n=new Ie(t),r=o(Ie.prototype.request,n);return q.extend(r,Ie.prototype,n,{allOwnKeys:!0}),q.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ke(t,n))},r}(ue);ze.Axios=Ie,ze.CanceledError=be,ze.CancelToken=Be,ze.isCancel=ve,ze.VERSION="1.6.2",ze.toFormData=J,ze.AxiosError=B,ze.Cancel=ze.CanceledError,ze.all=function(e){return Promise.all(e)},ze.spread=function(e){return function(t){return e.apply(null,t)}},ze.isAxiosError=function(e){return q.isObject(e)&&!0===e.isAxiosError},ze.mergeConfig=ke,ze.AxiosHeaders=ge,ze.formToJSON=e=>ae(q.isHTMLForm(e)?new FormData(e):e),ze.getAdapter=Pe,ze.HttpStatusCode=Me,ze.default=ze;var Ge=ze;const{Axios:Je,AxiosError:Ve,CanceledError:He,isCancel:We,CancelToken:Qe,VERSION:Xe,all:Ze,Cancel:Ye,isAxiosError:et,spread:tt,toFormData:nt,AxiosHeaders:rt,HttpStatusCode:ot,formToJSON:st,getAdapter:it,mergeConfig:at}=Ge},function(e,t,n){"use strict";(function(t){const r=n(6),o=n(3),s=n(10),i=n(13),a=n(16),c=n(17),u=n(23),l=n(24),p=n(26),d=n(27),f=n(28),h=n(29),m=n(30),g=n(31),y=n(32),v=n(33),w=n(34),b=n(0),E=n(35),O=n(36),N=n(37),S=n(38),A=n(39);e.exports={ServerlessSDK:class{constructor(e={}){this.context={},this.config(e),this.domains=a[this.platformStage],this.intercepts={},this.intercepts.logs=[],this.intercepts.logsInterval=200,this.session={refreshToken:e=>y.refreshToken(this,e)},this.events={publish:e=>d.publish(e,this.getDomain("events"),this.context,this.accessKey),get:e=>d.get(e,this.getDomain("events"),this.accessKey),list:(e={})=>d.list(this.getDomain("events"),this.context,this.accessKey,e),send:e=>d.send(e,this.connection,this.context,this.accessKey)},this.frameworkDeployments={create:async e=>A.create(this,e),list:async e=>A.list(this,e)},this.webhooks={register:(e,t={})=>f.register(this,e,t),list:(e={})=>{const{starting_after:t,limit:n=10}=e;return f.list(this,t,n)},get:e=>f.get(this,e),update:(e,t)=>f.update(this,e,t||{}),delete:e=>f.remove(this,e)},this.accessKeys={create:(e,t,n)=>h.create(this,e,t,n),list:e=>h.list(this,e),remove:(e,t)=>h.remove(this,e,t),get:()=>h.get(this)},this.connections={create:(e,t,n)=>m.create(this,e,t,n),list:e=>m.list(this,e),get:(e,t)=>m.get(this,e,t),getByOrgAndAccountAlias:(e,t)=>m.getByOrgAndAccountAlias(this,e,t),update:(e,t,n,r,o)=>m.update(this,e,t,n,r,o),remove:(e,t)=>m.remove(this,e,t),syncAll:e=>m.syncAll(this,e),unsync:(e,t)=>m.unsync(this,e,t)},this.desktop={createSavedQuery:(e,t,n,r)=>g.createSavedQuery(this,e,t,n,r),getSavedQuery:(e,t,n,r)=>g.getSavedQuery(this,e,t,n,r),updateSavedQuery:(e,t,n,r,o)=>g.updateSavedQuery(this,e,t,n,r,o),deleteSavedQuery:(e,t,n,r)=>g.deleteSavedQuery(this,e,t,n,r),listSavedQueries:(e,t,n)=>g.listSavedQueries(this,e,t,n)},this.logDestinations={getOrCreate:async e=>E.getOrCreate(this,e),remove:async e=>E.remove(this,e)},this.deploymentProfiles={get:async e=>O.get(this,e),create:async e=>O.create(this,e),list:async e=>O.list(this,e),setDefault:async e=>O.setDefault(this,e)},this.organizations={get:async e=>N.get(this,e),list:async e=>N.list(this,e),create:async e=>N.create(this,e),validate:async e=>N.validate(this,e)},this.apps={create:async e=>v.create(this,e),get:async e=>v.get(this,e),update:async e=>v.update(this,e),remove:async e=>v.remove(this,e),list:async e=>v.list(this,e)},this.metadata={get:async()=>S.get(this)},this.services={get:async e=>w.get(this,e),getStateVariable:async e=>w.getStateVariable(this,e)}}config(e={}){this.accessKey=e.accessKey||this.accessKey,this.platformStage=t.env.SERVERLESS_PLATFORM_STAGE||e.platformStage||"prod",e.context=e.context||{},this.context.orgUid=e.context.orgUid||this.context.orgUid||null,this.context.orgName=e.context.orgName||this.context.orgName||null,this.context.stageName=e.context.stageName||this.context.stageName||null,this.context.appName=e.context.appName||this.context.appName||null,this.context.instanceName=e.context.instanceName||this.context.instanceName||null,this.context.componentName=e.context.componentName||this.context.componentName||null,this.context.componentVersion=e.context.componentVersion||this.context.componentVersion||null}getDomain(e=null){return this.domains[e]||null}loginIdentity(e={}){const t=e.loginBrokerUrl?e.loginBrokerUrl+"broker":this.getDomain("core")+"/login/broker",n=new r(t,void 0,{followRedirects:!0,agent:b.getAgent()});let o,i;const a=new Promise((e,t)=>{o=e,i=t});let c,u;const l=new Promise((e,t)=>{c=e,u=t});return n.onmessage=e=>{try{const t=JSON.parse(e.data);switch(t.event){case"ready":o(t.transactionId);break;case"fulfilled":{const e=(e=>{delete e.event;const t=s(e.id_token);return{id:t.tracking_id||t.sub,name:t.name,email:t.email,username:e.username,user_uid:e.user_uid,refreshToken:e.refresh_token,accessToken:e.access_token,idToken:e.id_token,expiresAt:e.expires_in?Date.now()+e.expires_in:e.expires_at}})(t);c(e),n.close();break}default:throw new Error("Encountered an unexpected message while waiting for login information. Your Serverless Framework or SDK may be out of date.")}}catch(e){i(e),u(e),n.close()}},n.onopen=()=>{n.send('{"action":"login"}')},{transactionId:a,loginData:l}}async login(e={}){const{transactionId:t,loginData:n}=this.loginIdentity(e),r=await t,s=o.stringify({client:"cli",transactionId:r});let i="console"===e.app?this.getDomain("console"):this.getDomain("dashboard");return i=`${i}?${s}`,{loginUrl:i,loginData:n}}async getUser(){return c.getUser(this)}async getUserMeta(){return c.getUserMeta(this)}async saveUserMeta(e){return c.saveUserMeta(this,e)}async validateUserAndOrgName(e){return c.validateUserAndOrgName(this,e)}async createUserAndOrg(e){return c.createUserAndOrg(this,e)}async createOrg(e){return c.createOrg(this,e)}async getOrgByName(e){return c.getOrgByName(this,e)}async listOrgs(e){return c.listOrgs(this,e)}async createApp(e=null,t={}){return c.createApp(this,e,t)}async updateApp(e=null,t={}){return c.updateApp(this,e,t)}async deleteApp(e=null,t=null){return c.deleteApp(this,e,t)}async listApps(e=null){return c.listApps(this,e)}async createInitToken(e=null,t={}){return c.createInitToken(this,e,t)}async getInitToken(e){return c.getInitToken(this,e)}async createProvider(e,t){return c.createProvider(this,e,t)}async updateProvider(e,t,n){return c.updateProvider(this,e,t,n)}async setDefaultProvider(e,t){return c.setDefaultProvider(this,e,t)}async unsetDefaultProvider(e,t){return c.unsetDefaultProvider(this,e,t)}async deleteProvider(e,t){return c.deleteProvider(this,e,t)}async createProviderLink(e,t,n,r){return c.createProviderLink(this,e,t,n,r)}async deleteProviderLink(e,t,n,r){return c.deleteProviderLink(this,e,t,n,r)}async getProviders(e){return c.getProviders(this,e)}async getProvider(e,t){return c.getProvider(this,e,t)}async getProvidersByOrgServiceInstance(e,t,n){return c.getProvidersByOrgServiceInstance(this,e,t,n)}async getProvidersByLink(e,t,n){return c.getProvidersByLink(this,e,t,n)}async getAllowedProviders(){return c.getAllowedProviders(this)}async createParam(e,t,n,r){return c.createParam(this,e,t,n,r)}async deleteParam(e,t,n,r){return c.deleteParam(this,e,t,n,r)}async updateParam(e,t,n,r,o){return c.updateParam(this,e,t,n,r,o)}async getParams(e,t,n){return c.getParams(this,e,t,n)}async getParamsByOrgServiceInstance(e,t,n){return c.getParamsByOrgServiceInstance(this,e,t,n)}async getParamsAndProvidersByOrgServiceInstance(e,t,n){return c.getParamsAndProvidersByOrgServiceInstance(this,e,t,n)}async connect(e={}){this.connection=new u(this),await this.connection.connect(e)}disconnect(){this.connection&&this.connection.disconnect()}isConnected(){return!(!this.connection||!this.connection.isConnected())}async unpublishFromRegistry(e={}){return await l.unpublish(this,e)}async publishToRegistry(e={}){return l.publish(this,e)}async getFromRegistry(e=null,t=null){return l.get(this,e,t)}generateInstanceId(e=null,t=null,n=null,r=null){return p.generateId(e,t,n,r)}validateInstance(e){return p.validateAndFormat(e)}createInstance(e=null,t=null,n=null,r=null,o="inactive"){return p.create(e,t,n,r,o)}async saveInstance(e){return p.save(this,e)}async getInstance(e=null,t=null,n=null,r=null){return p.getByName(this,e,t,n,r)}async listInstances(e=null,t){return p.listByOrgName(this,e,t)}async run(e,t={},n={}){return p.run(this,e,t,n)}async runFinish(e=null,t,n={}){return p.runFinish(this,e,t,n)}async deploy(e={},t={}){return p.deploy(this,e,t)}async remove(e={},t={}){return p.remove(this,e,t)}async startInterceptingLogs(e=null,n={}){this.intercepts.logs=[],this.intercepts.console={},this.intercepts.console.log=console.log,this.intercepts.console.debug=console.debug,this.intercepts.console.info=console.info,this.intercepts.console.error=console.error,this.intercepts.console.warn=console.warn,this.intercepts.stdout={},this.intercepts.stdout.write=t.stdout.write.bind(t.stdout),this.intercepts.stderr={},this.intercepts.stderr.write=t.stderr.write.bind(t.stderr);const r=this;this.intercepts.publish=async()=>{if(!r.intercepts.logs||!r.intercepts.logs.length)return;const t=r.intercepts.logs.map(e=>e);r.intercepts.logs=[];const o={data:{logs:t,...n}};o.event=e||"instance.logs",await r.events.publish(o)},this.intercepts.interval=setInterval(async()=>{await r.intercepts.publish()},r.intercepts.logsInterval);let o=!1;const s=(e,t)=>{const n=!o;n&&(o=!0,t.forEach(t=>{void 0===t&&(t="undefined"),"number"==typeof t&&(t=JSON.stringify(t));const n={type:e};n.createdAt=Date.now(),n.data=i.inspect(t),r.intercepts.logs.push(n)}));try{"stdout"===e?r.intercepts.stdout.write(...t):"stderr"===e?r.intercepts.stderr.write(...t):r.intercepts.console[e].apply(console,t)}finally{n&&(o=!1)}};console.log=(...e)=>{s("log",e)},console.debug=(...e)=>{s("debug",e)},console.info=(...e)=>{s("info",e)},console.error=(...e)=>{s("error",e)},console.warn=(...e)=>{s("warn",e)},t.stdout.write=(...e)=>{s("stdout",e)},t.stderr.write=(...e)=>{s("stderr",e)}}async stopInterceptingLogs(){this.intercepts.interval&&clearInterval(this.intercepts.interval),await this.intercepts.publish(),this.intercepts.logs=[],console.log=this.intercepts.console.log,console.debug=this.intercepts.console.debug,console.info=this.intercepts.console.info,console.error=this.intercepts.console.error,console.warn=this.intercepts.console.warn,t.stdout.write=this.intercepts.stdout.write,t.stderr.write=this.intercepts.stderr.write}},utils:b}}).call(this,n(2))},function(e,t,n){(function(t){var n=null;n="undefined"!=typeof WebSocket?WebSocket:"undefined"!=typeof MozWebSocket?MozWebSocket:void 0!==t?t.WebSocket||t.MozWebSocket:window.WebSocket||window.MozWebSocket,e.exports=n}).call(this,n(7))},function(e,t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){r=window}e.exports=r},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var p,d,f,h,m=e[l].replace(a,"%20"),g=m.indexOf(n);g>=0?(p=m.substr(0,g),d=m.substr(g+1)):(p=m,d=""),f=decodeURIComponent(p),h=decodeURIComponent(d),r(i,f)?o(i[f])?i[f].push(h):i[f]=[i[f],h]:i[f]=h}return i};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?s(i(e),(function(i){var a=encodeURIComponent(r(i))+n;return o(e[i])?s(e[i],(function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[i]))})).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var r=n(11);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,n){var r=n(12);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return r(t)}}},function(e,t,n){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports=window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,s=0,i=0,a="";o=t.charAt(i++);~o&&(n=s%4?64*n+o:o,s++%4)?a+=String.fromCharCode(255&n>>(-2*s&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return a}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,s=r.length,i=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<s;c=r[++n])m(c)||!b(c)?i+=" "+c:i+=" "+a(c);return i},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var s,i={};function a(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),l(r,e,r.depth)}function c(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&N(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=l(e,o,r)),o}var s=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(s)return s;var i=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),O(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return p(n);if(0===i.length){if(N(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return p(n)}var u,b="",S=!1,A=["{","}"];(f(n)&&(S=!0,A=["[","]"]),N(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(b=" "+RegExp.prototype.toString.call(n)),E(n)&&(b=" "+Date.prototype.toUTCString.call(n)),O(n)&&(b=" "+p(n)),0!==i.length||S&&0!=n.length?r<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=S?function(e,t,n,r,o){for(var s=[],i=0,a=t.length;i<a;++i)$(t,String(i))?s.push(d(e,t,n,r,String(i),!0)):s.push("");return o.forEach((function(o){o.match(/^\d+$/)||s.push(d(e,t,n,r,o,!0))})),s}(e,n,r,a,i):i.map((function(t){return d(e,n,r,a,t,S)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,b,A)):A[0]+b+A[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,o,s){var i,a,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),$(r,o)||(i="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(i)){if(s&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function f(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function w(e){return b(e)&&"[object RegExp]"===S(e)}function b(e){return"object"==typeof e&&null!==e}function E(e){return b(e)&&"[object Date]"===S(e)}function O(e){return b(e)&&("[object Error]"===S(e)||e instanceof Error)}function N(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(s)&&(s=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!i[n])if(new RegExp("\\b"+n+"\\b","i").test(s)){var r=e.pid;i[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else i[n]=function(){};return i[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=w,t.isObject=b,t.isDate=E,t.isError=O,t.isFunction=N,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(14);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=n(15),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function K(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=P,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var s=this,i=function(){return o.apply(s,arguments)};t.apply(this,n).then((function(t){e.nextTick(i,null,t)}),(function(t){e.nextTick(K,t,i)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(2))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){e.exports=JSON.parse('{"local":{"core":"http://localhost:3011"},"dev":{"core":"https://api.serverless-dev.com","events-streaming":"wss://events-streaming-v1.serverless-platform-dev.com","events":"https://events-v1.serverless-platform-dev.com","registry":"https://registry-v1.serverless-platform-dev.com","engine":"https://engine-v1.serverless-platform-dev.com","dashboard":"https://app.serverless-dev.com","console":"https://console.serverless-dev.com","providers":"https://sp-providers-v1.serverless-platform-dev.com","event-webhooks":"https://event-webhooks-v1.serverless-platform-dev.com","connections":"https://connections-v1.serverless-platform-dev.com","desktop":"https://desktop-v1.serverless-platform-dev.com"},"prod":{"core":"https://api.serverless.com","events-streaming":"wss://events-streaming-v1.serverless-platform.com","events":"https://events-v1.serverless-platform.com","registry":"https://registry-v1.serverless-platform.com","engine":"https://engine-v1.serverless-platform.com","dashboard":"https://app.serverless.com","console":"https://console.serverless.com","providers":"https://sp-providers-v1.serverless-platform.com","event-webhooks":"https://event-webhooks-v1.serverless-platform.com","connections":"https://connections-v1.serverless-platform.com","desktop":"https://desktop-v1.serverless-platform.com"}}')},function(e,t,n){"use strict";const r=n(0),o=async e=>{const t=e.getDomain("core")+"/core/users/meta";return await r.request({accessKey:e.accessKey,endpoint:t,method:"GET"})},s=async(e,t)=>{const n=e.getDomain("core")+"/core/tenants";return await r.request({accessKey:e.accessKey,endpoint:n,method:"POST",data:{ownerUserName:t,title:t,tenantName:t}})};e.exports={getUser:async e=>{const t=e.getDomain("core")+"/core/me";return await r.request({accessKey:e.accessKey,endpoint:t,method:"GET"})},getUserMeta:o,saveUserMeta:async(e,t={})=>{const n=await o(e);t=Object.assign(n||{},t);const s=e.getDomain("core")+"/core/users/meta";return await r.request({accessKey:e.accessKey,endpoint:s,method:"POST",data:t})},validateUserAndOrgName:async(e,t)=>{const n=e.getDomain("core")+"/core/validate/tenants",o=await r.request({accessKey:e.accessKey,endpoint:n,method:"POST",data:{ownerUserName:t,title:t,tenantName:t}});return o&&o.validationErrors&&o.validationErrors.length?o.validationErrors:null},createUserAndOrg:async(e,t)=>await s(e,t),createOrg:s,getOrgByName:async(e,t)=>{const n=`${e.getDomain("core")}/core/tenants/${t}`;return await r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})},listOrgs:async(e,t)=>{const n=`${e.getDomain("core")}/core/tenants?userName=${t}`;return await r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})},createApp:async(e,t=null,n={})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{tenantName:t,appName:n.name,title:n.name,description:n.description,deploymentProfiles:n.deploymentProfiles}})},updateApp:async(e,t=null,n={})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${n.name}`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"PATCH",data:{appName:n.name,title:n.name,description:n.description,deploymentProfiles:n.deploymentProfiles}})},deleteApp:async(e,t=null,n=null)=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"DELETE"})},listApps:async(e,t=null)=>{const n=`${e.getDomain("core")}/core/tenants/${t}/applications`;return await r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})},createInitToken:async(e,t=null,n)=>{const o=e.getDomain("core")+"/core/initTokens";return await r.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{tenantName:t,...n}})},getInitToken:async(e,t)=>{const n=`${e.getDomain("core")}/core/initTokens/${t}`;return await r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})},getProviders:async(e,t)=>{const n=`${e.getDomain("providers")}/orgs/${t}/providers`;return await r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})},getProvider:async(e,t,n)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${n}`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"GET"})},getProvidersByOrgServiceInstance:async(e,t,n,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/services/${encodeURI(n)}/instances/${encodeURI(o)}`;return await r.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},createProvider:async(e,t,n)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:n})},updateProvider:async(e,t,n,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/providers/${n}`;return await r.request({accessKey:e.accessKey,endpoint:s,method:"PUT",data:o})},setDefaultProvider:async(e,t,n)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${n}/set-default`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"POST"})},unsetDefaultProvider:async(e,t,n)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${n}/set-default/?isDefault=false`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"POST"})},deleteProvider:async(e,t,n)=>{const o=`${e.getDomain("providers")}/orgs/${t}/providers/${n}`;return await r.request({accessKey:e.accessKey,endpoint:o,method:"DELETE"})},createProviderLink:async(e,t,n,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${n}s/${encodeURI(o)}`;return await r.request({accessKey:e.accessKey,endpoint:i,method:"POST",data:{providerUid:s}})},deleteProviderLink:async(e,t,n,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${n}s/${encodeURI(o)}/providers/${s}`;return await r.request({accessKey:e.accessKey,endpoint:i,method:"DELETE"})},getProvidersByLink:async(e,t,n,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/${n}s/${encodeURI(o)}`;return await r.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},getAllowedProviders:async e=>{const t=e.getDomain("providers")+"/providers";return await r.request({accessKey:e.accessKey,endpoint:t,method:"GET"})},createParam:async(e,t,n,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${n}s/${encodeURI(o)}/params`;return await r.request({accessKey:e.accessKey,endpoint:i,method:"POST",data:s})},deleteParam:async(e,t,n,o,s)=>{const i=`${e.getDomain("providers")}/orgs/${t}/${n}s/${encodeURI(o)}/params/${s}`;return await r.request({accessKey:e.accessKey,endpoint:i,method:"DELETE"})},getParams:async(e,t,n,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/${n}s/${encodeURI(o)}/params`;return await r.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},updateParam:async(e,t,n,o,s,i)=>{const a=`${e.getDomain("providers")}/orgs/${t}/${n}s/${encodeURI(o)}/params/${s}`;return await r.request({accessKey:e.accessKey,endpoint:a,method:"PUT",data:i})},getParamsByOrgServiceInstance:async(e,t,n,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/services/${encodeURI(n)}/instances/${encodeURI(o)}/params`;return await r.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},getParamsAndProvidersByOrgServiceInstance:async(e,t,n,o)=>{const s=`${e.getDomain("providers")}/orgs/${t}/services/${encodeURI(n)}/instances/${encodeURI(o)}/params-and-providers`;return await r.request({accessKey:e.accessKey,endpoint:s,method:"GET"})}}},function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)}var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=Object.prototype.hasOwnProperty||function(e,t){return t in e};function c(e){if("object"==typeof e&&null!==e){var t;if(o(e))t=[];else if("[object Date]"===r(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===r(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===r(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===r(e)}(e)||function(e){return"[object Number]"===r(e)}(e)||function(e){return"[object String]"===r(e)}(e))t=Object(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{},a=function(){};a.prototype=n,t=new a}return s(i(e),(function(n){t[n]=e[n]})),t}return e}function u(e,t,n){var r=[],u=[],l=!0;return function e(p){var d=n?c(p):p,f={},h=!0,m={node:d,node_:p,path:[].concat(r),parent:u[u.length-1],parents:u,key:r[r.length-1],isRoot:0===r.length,level:r.length,circular:null,update:function(e,t){m.isRoot||(m.parent.node[m.key]=e),m.node=e,t&&(h=!1)},delete:function(e){delete m.parent.node[m.key],e&&(h=!1)},remove:function(e){o(m.parent.node)?m.parent.node.splice(m.key,1):delete m.parent.node[m.key],e&&(h=!1)},keys:null,before:function(e){f.before=e},after:function(e){f.after=e},pre:function(e){f.pre=e},post:function(e){f.post=e},stop:function(){l=!1},block:function(){h=!1}};if(!l)return m;function g(){if("object"==typeof m.node&&null!==m.node){m.keys&&m.node_===m.node||(m.keys=i(m.node)),m.isLeaf=0===m.keys.length;for(var e=0;e<u.length;e++)if(u[e].node_===p){m.circular=u[e];break}}else m.isLeaf=!0,m.keys=null;m.notLeaf=!m.isLeaf,m.notRoot=!m.isRoot}g();var y=t.call(m,m.node);return void 0!==y&&m.update&&m.update(y),f.before&&f.before.call(m,m.node),h?("object"!=typeof m.node||null===m.node||m.circular||(u.push(m),g(),s(m.keys,(function(t,o){r.push(t),f.pre&&f.pre.call(m,m.node[t],t);var s=e(m.node[t]);n&&a.call(m.node,t)&&(m.node[t]=s.node),s.isLast=o===m.keys.length-1,s.isFirst=0===o,f.post&&f.post.call(m,s),r.pop()})),u.pop()),f.after&&f.after.call(m,m.node),m):m}(e).node}function l(e){this.value=e}function p(e){return new l(e)}l.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!a.call(t,r))return;t=t[r]}return t},l.prototype.has=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!t||!a.call(t,r))return!1;t=t[r]}return!0},l.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var o=e[r];a.call(n,o)||(n[o]={}),n=n[o]}return n[e[r]]=t,t},l.prototype.map=function(e){return u(this.value,e,!0)},l.prototype.forEach=function(e){return this.value=u(this.value,e,!1),this.value},l.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach((function(t){this.isRoot&&n||(r=e.call(this,r,t))})),r},l.prototype.paths=function(){var e=[];return this.forEach((function(){e.push(this.path)})),e},l.prototype.nodes=function(){var e=[];return this.forEach((function(){e.push(this.node)})),e},l.prototype.clone=function(){var e=[],t=[];return function n(r){for(var o=0;o<e.length;o++)if(e[o]===r)return t[o];if("object"==typeof r&&null!==r){var a=c(r);return e.push(r),t.push(a),s(i(r),(function(e){a[e]=n(r[e])})),e.pop(),t.pop(),a}return r}(this.value)},s(i(l.prototype),(function(e){p[e]=function(t){var n=[].slice.call(arguments,1),r=new l(t);return r[e].apply(r,n)}})),e.exports=p},function(e,t,n){e.exports=l,l.Minimatch=p;var r=function(){try{return n(1)}catch(e){}}()||{sep:"/"};l.sep=r.sep;var o=l.GLOBSTAR=p.GLOBSTAR={},s=n(20),i={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function l(e,t,n){return f(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new p(t,n).match(e)}function p(e,t){if(!(this instanceof p))return new p(e,t);f(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function d(e,t){return t||(t=this instanceof p?this.options:{}),e=void 0===e?this.pattern:e,f(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)}l.filter=function(e,t){return t=t||{},function(n,r,o){return l(n,e,t)}},l.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return l;var t=l,n=function(n,r,o){return t(n,r,u(e,o))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,u(e,r))}).defaults=function(n){return t.defaults(u(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,u(e,r))},n.defaults=function(n){return t.defaults(u(e,n))},n.makeRe=function(n,r){return t.makeRe(n,u(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,u(e,r))},n.match=function(n,r,o){return t.match(n,r,u(e,o))},n},p.defaults=function(e){return l.defaults(e).Minimatch},p.prototype.debug=function(){},p.prototype.make=function(){var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)});this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var o=0,s=e.length;o<s&&"!"===e.charAt(o);o++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},l.braceExpand=function(e,t){return d(e,t)},p.prototype.braceExpand=d;var f=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};p.prototype.parse=function(e,t){f(e);var n=this.options;if("**"===e){if(!n.noglobstar)return o;e="*"}if(""===e)return"";var r,s="",c=!!n.nocase,u=!1,l=[],p=[],d=!1,m=-1,g=-1,y="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function w(){if(r){switch(r){case"*":s+="[^/]*?",c=!0;break;case"?":s+="[^/]",c=!0;break;default:s+="\\"+r}v.debug("clearStateChar %j %j",r,s),r=!1}}for(var b,E=0,O=e.length;E<O&&(b=e.charAt(E));E++)if(this.debug("%s\t%s %s %j",e,E,s,b),u&&a[b])s+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":w(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,E,s,b),d){this.debug("  in class"),"!"===b&&E===g+1&&(b="^"),s+=b;continue}v.debug("call clearStateChar %j",r),w(),r=b,n.noext&&w();continue;case"(":if(d){s+="(";continue}if(!r){s+="\\(";continue}l.push({type:r,start:E-1,reStart:s.length,open:i[r].open,close:i[r].close}),s+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,s),r=!1;continue;case")":if(d||!l.length){s+="\\)";continue}w(),c=!0;var N=l.pop();s+=N.close,"!"===N.type&&p.push(N),N.reEnd=s.length;continue;case"|":if(d||!l.length||u){s+="\\|",u=!1;continue}w(),s+="|";continue;case"[":if(w(),d){s+="\\"+b;continue}d=!0,g=E,m=s.length,s+=b;continue;case"]":if(E===g+1||!d){s+="\\"+b,u=!1;continue}var S=e.substring(g+1,E);try{RegExp("["+S+"]")}catch(e){var A=this.parse(S,h);s=s.substr(0,m)+"\\["+A[0]+"\\]",c=c||A[1],d=!1;continue}c=!0,d=!1,s+=b;continue;default:w(),u?u=!1:!a[b]||"^"===b&&d||(s+="\\"),s+=b}d&&(S=e.substr(g+1),A=this.parse(S,h),s=s.substr(0,m)+"\\["+A[0],c=c||A[1]);for(N=l.pop();N;N=l.pop()){var T=s.slice(N.reStart+N.open.length);this.debug("setting tail",s,N),T=T.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",T,T,N,s);var x="*"===N.type?"[^/]*?":"?"===N.type?"[^/]":"\\"+N.type;c=!0,s=s.slice(0,N.reStart)+x+"\\("+T}w(),u&&(s+="\\\\");var $=!1;switch(s.charAt(0)){case"[":case".":case"(":$=!0}for(var P=p.length-1;P>-1;P--){var K=p[P],D=s.slice(0,K.reStart),j=s.slice(K.reStart,K.reEnd-8),k=s.slice(K.reEnd-8,K.reEnd),R=s.slice(K.reEnd);k+=R;var U=D.split("(").length-1,_=R;for(E=0;E<U;E++)_=_.replace(/\)[+*?]?/,"");var q="";""===(R=_)&&t!==h&&(q="$"),s=D+j+R+q+k}""!==s&&c&&(s="(?=.)"+s);$&&(s=y+s);if(t===h)return[s,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var C=n.nocase?"i":"";try{var I=new RegExp("^"+s+"$",C)}catch(e){return new RegExp("$.")}return I._glob=e,I._src=s,I};var h={};l.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",s=e.map((function(e){return e.map((function(e){return e===o?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var r=new p(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(c),this.debug(this.pattern,"split",e);var o,s,i=this.set;for(this.debug(this.pattern,"set",i),s=e.length-1;s>=0&&!(o=e[s]);s--);for(s=0;s<i.length;s++){var a=i[s],u=e;if(n.matchBase&&1===a.length&&(u=[o]),this.matchOne(u,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,i=0,a=e.length,c=t.length;s<a&&i<c;s++,i++){this.debug("matchOne loop");var u,l=t[i],p=e[s];if(this.debug(t,l,p),!1===l)return!1;if(l===o){this.debug("GLOBSTAR",[t,l,p]);var d=s,f=i+1;if(f===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!r.dot&&"."===e[s].charAt(0))return!1;return!0}for(;d<a;){var h=e[d];if(this.debug("\nglobstar while",e,d,t,f,h),this.matchOne(e.slice(d),t.slice(f),n))return this.debug("globstar found match!",d,a,h),!0;if("."===h||".."===h||!r.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,d,t,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!n||(this.debug("\n>>> no match, partial?",e,d,t,f),d!==a))}if("string"==typeof l?(u=p===l,this.debug("string match",l,p,u)):(u=p.match(l),this.debug("pattern match",l,p,u)),!u)return!1}if(s===a&&i===c)return!0;if(s===a)return n;if(i===c)return s===a-1&&""===e[s];throw new Error("wtf?")}},function(e,t,n){var r=n(21),o=n(22);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var s=[],i=o("{","}",t);if(!i||/\$$/.test(i.pre))return[t];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),p=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),g=u||p,y=i.body.indexOf(",")>=0;if(!g&&!y)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+a+i.post,e(t)):[t];if(g)c=i.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var n=[],r=o("{","}",t);if(!r)return t.split(",");var s=r.pre,i=r.body,a=r.post,c=s.split(",");c[c.length-1]+="{"+i+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return n.push.apply(n,c),n}(i.body)).length)if(1===(c=e(c[0],!1).map(d)).length)return(b=i.post.length?e(i.post,!1):[""]).map((function(e){return i.pre+c[0]+e}))}var v,w=i.pre,b=i.post.length?e(i.post,!1):[""];if(g){var E=l(c[0]),O=l(c[1]),N=Math.max(c[0].length,c[1].length),S=3==c.length?Math.abs(l(c[2])):1,A=h;O<E&&(S*=-1,A=m);var T=c.some(f);v=[];for(var x=E;A(x,O);x+=S){var $;if(p)"\\"===($=String.fromCharCode(x))&&($="");else if($=String(x),T){var P=N-$.length;if(P>0){var K=new Array(P+1).join("0");$=x<0?"-"+K+$.slice(1):K+$}}v.push($)}}else v=r(c,(function(t){return e(t,!1)}));for(var D=0;D<v.length;D++)for(var j=0;j<b.length;j++){var k=w+v[D]+b[j];(!n||g||k)&&s.push(k)}return s}(function(e){return e.split("\\\\").join(s).split("\\{").join(i).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(p)};var s="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function p(e){return e.split(s).join("\\").split(i).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function d(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function h(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],o=0;o<e.length;o++){var s=t(e[o],o);n(s)?r.push.apply(r,s):r.push(s)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=o(e,n)),t instanceof RegExp&&(t=o(t,n));var r=s(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function o(e,t){var n=t.match(e);return n?n[0]:null}function s(e,t,n){var r,o,s,i,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],s=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((o=r.pop())<s&&(s=o,i=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[s,i])}return a}e.exports=r,r.range=s},function(e,t,n){"use strict";const r=n(0);e.exports=class{constructor(e){this.sdk=e,this.connection=null,this.context={}}isConnected(){return!!this.connection}async connect({orgUid:e,onEvent:t}){if(!e)throw new Error('You must specify an "orgUid" to connect');e&&(this.sdk.context.orgUid=e);const n=async({orgUid:e,accessKey:t})=>{let n=this.sdk.getDomain("providers");return(await r.request({endpoint:`${n}/orgs/${e}/providers`,method:"GET",accessKey:t})).result},o=async({orgUid:e,accessKey:t,initialProviders:r,startTime:s})=>{if(s=s||Date.now(),Date.now()-s>9e5)throw new Error("Timeout: Could not find provider");let i=await n({orgUid:e,accessKey:t});if(i.length>r.length){return i.find(e=>!r.find(t=>t.providerUid===e.providerUid))}return await new Promise(e=>setTimeout(e,5e3)),o({orgUid:e,accessKey:t,initialProviders:r,startTime:s})};let s=await n({orgUid:e,accessKey:this.sdk.accessKey}),i=await o({orgUid:e,accessKey:this.sdk.accessKey,initialProviders:s});if(t)return t(i)}send(e){}disconnect(e){this.connection=null}}},function(e,t,n){"use strict";const r=n(1),o=n(1),{tmpdir:s}=n(25),i=n(4),a=n(0),c=async(e,t)=>{const n=r.basename(e);e=r.resolve(e);const s=r.join(e,"serverless.yml"),i=r.join(e,"serverless.yaml"),c=r.join(e,"serverless.json");let u;if(a.fileExistsSync(s)&&(u=s),a.fileExistsSync(i)&&(u=i),a.fileExistsSync(c)&&(u=c),!u)return null;const l=r.join(n,r.basename(u)),p=await o.promises.readFile(u,"utf-8"),d={};return d.fileName=l,d.fileContent=((e,t=[])=>{for(const n of t){const t=new RegExp(`^${n}\\s*:\\s+.*$`,"m");e=e.replace(t,()=>"")}return e.replace(/(\r\n|\r|\n){2,}/g,"$1\n")})(p,t),d},u=e=>o.statSync(e).isDirectory(),l=async e=>{const t=r.join(s(),Math.random().toString(36).substring(6)+".zip");let n=[],i=[];"component"===e.type?n.push({fileName:"_handler.js",fileContent:"const { handler } = require('@serverless/core');module.exports.handler = handler;"}):(i.push("**/serverless.template.yml"),i.push("**/node_modules/**"),i.push("**/.env"),i.push("**/.env.*"),i.push("**/.git/**"));const l=await(async e=>{const t=[],n=["org","app","service","stage","description","keywords","repo","license","service"],s=await o.promises.readdir(e);for(const o of s){const s=r.join(e,o);!o.startsWith(".")&&u(s)&&t.push(c(s,n))}const i=(await Promise.all(t)).filter(e=>null!==e),a=await c(e,n);return a&&(a.fileName=r.basename(a.fileName),0!==i.length&&(a.doNotInclude=!0),i.push(a)),i})(e.src),p=l.filter(e=>!e.doNotInclude);n=n.concat(p);const d=l.map(e=>e.fileName);return i=i.concat(d),await a.zip(e.src,{outputFilePath:t,exclude:i,includeContent:n,shouldFilterByGitignore:"template"===e.type}),t};e.exports={get:async(e,t,n)=>{let r=e.getDomain("registry")+"/packages";t&&(r=`${r}/${t}`),n&&(r=`${r}/${n}`);const o=await a.request({accessKey:e.accessKey,endpoint:r,method:"GET"});return delete o.componentName,delete o.component,delete o.componentDefinition,"template"===o.type&&(delete o.version,delete o.versions),o},publish:async(e,t)=>{t=(e=>{const t=Object.assign({},e);if(!t.name)throw new Error("The 'name' property is required");if(!t.version)throw new Error("The 'version' property is required");if("dev"===t.version&&(t.version="0.0.0-dev"),t.org&&(t.orgName=t.org,delete t.org),!t.orgName)throw new Error("'orgName' is required");if(!t.src)throw new Error("'src' is required");if(!t.type)throw new Error("'type' is required");return t.providers&&(t.types=t.types||{},t.types.providers=t.providers,delete t.providers),t.actions&&(t.types=t.types||{},t.types.actions=t.actions,delete t.actions),t})(t);const n=await a.request({endpoint:e.getDomain("registry")+"/packages/prePublish",accessKey:e.accessKey,method:"POST",data:t}),{packageUploadUrl:r,packageKey:s}=n,c=await l(t),u=i.create();u.defaults.headers.common={},u.defaults.headers.put={};const p=o.readFileSync(c),d={maxContentLength:1/0,maxBodyLength:1/0};return await u.put(r,p,d),a.request({endpoint:e.getDomain("registry")+"/packages/postPublish",accessKey:e.accessKey,method:"POST",data:{orgName:t.orgName,packageKey:s}})},unpublish:async(e,{name:t,version:n,org:r})=>{const o=`${e.getDomain("registry")}/packages/${t}/${n}`;return a.request({endpoint:o,accessKey:e.accessKey,method:"DELETE",headers:{org:r}})}}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){"use strict";(function(t){const r=n(1),o=n(1).exec,s=n(0),i=e=>{const t=JSON.parse(JSON.stringify(e));if(t.org&&(t.orgName=t.org,delete t.org),t.stage&&(t.stageName=t.stage,delete t.stage),t.app&&(t.appName=t.app,delete t.app),t.name&&(t.instanceName=t.name,delete t.name),!(t.orgName&&t.stageName&&t.appName&&t.instanceName))throw new Error("'orgName' 'stageName' 'appName' and 'instanceName' are required");if(t.component&&(t.componentName=t.component.includes("@")?t.component.split("@")[0]:t.component,t.componentVersion=t.component.includes("@")?t.component.split("@")[1]:"",delete t.component),!t.componentName)throw new Error("'componentName' is required");return t.inputs||(t.inputs={}),t},a=async(e,t=null,n=null,r=null,o=null)=>s.request({endpoint:e.getDomain("engine")+"/getInstance",accessKey:e.accessKey,method:"POST",data:{orgName:t,appName:r,stageName:n,instanceName:o}}),c=async(e,n={},a={},c={})=>{let u,l=JSON.parse(JSON.stringify(a));if(!n)throw new Error('A "method" argument is required');if(l=i(a),l.inputs.src){let n=l.inputs.src;"string"!=typeof n&&n.dist?n=n.dist:"string"!=typeof n&&n.src&&(n=n.src),l.inputs.src&&(l.inputs.srcOriginal=JSON.parse(JSON.stringify(l.inputs.src))),l.inputs.src=await(async e=>{if("object"==typeof e&&e.hook&&e.dist){const t={cwd:e.src,env:e.env};return new Promise((n,r)=>{o(e.hook,t,t=>t?r(new Error(`Failed running "src.hook": "${e.hook}" due to the following error: ${t.message}`)):n(e.dist))})}return"object"==typeof e&&e.src?e=r.resolve(e.src):"string"==typeof e&&(e=r.resolve(e)),e})(l.inputs.src),t.argv.includes("--force")&&(c.force=!0);const{srcDownloadUrl:i,bytes:a}=await s.cache(e,l,c);if(a>2e8)throw new Error("Your code size must be less than 200MB.  Try using Webpack, Parcel, or AWS Lambda layers to reduce your code size.");l.inputs.src=i,u=a}return s.request({endpoint:e.getDomain("engine")+"/run",accessKey:e.accessKey,method:"POST",data:{method:n,instance:l,options:c,size:u}})};e.exports={generateId:(e,t,n,r)=>{if(!(e&&t&&n&&r))throw new Error("'orgUid' 'stageName' 'appUid' and 'instanceName' are required");return`${e}.${t}.${n}.${r}`},validateAndFormat:i,create:(e=null,t=null,n=null,r=null,o="inactive")=>{if(!(e&&t&&n&&r))throw new Error("'orgName' 'stageName' 'appName' and 'instanceName' are required");const s={};return s.orgName=e,s.appName=n,s.stageName=t,s.instanceName=r,s.componentName=null,s.componentVersion=null,s.inputs={},s.outputs={},s.state={},s.description=null,s.instanceStatus=o,s.deploymentError=null,s.deploymentErrorStack=null,s.lastAction=null,s.createdAt=Date.now(),s.updatedAt=Date.now(),s.lastDeployedAt=null,s.lastActionAt=null,s.instanceMetrics={},s.instanceMetrics.actions=0,s.instanceMetrics.deployments=0,s.instanceMetrics.removes=0,s.instanceMetrics.errors=0,s},save:async(e,t={})=>(t=i(t),s.request({endpoint:e.getDomain("engine")+"/saveInstance",accessKey:e.accessKey,method:"POST",data:{instance:t}})),getByName:a,listByOrgName:async(e,t=null,n=null)=>s.request({endpoint:e.getDomain("engine")+"/listInstances",accessKey:e.accessKey,method:"POST",data:{orgName:t,orgUid:n}}),run:c,runFinish:async(e,t=null,n={},r={})=>s.request({endpoint:e.getDomain("engine")+"/runFinish",accessKey:e.accessKey,method:"POST",data:{method:t,instance:n,meta:r}}),deploy:async(e,t,n)=>{n.timeout=n.timeout||24e4,n.interval=n.interval||500;const r=Date.now();await c(e,"deploy",t,n);const o=async()=>{if(Date.now()-n.timeout>r)throw new Error(`Request timed out after ${n.timeout/6e4} minutes`);let i=await a(e,t.orgName||t.org,t.stageName||t.stage,t.appName||t.app,t.instanceName||t.name);if(i=i.instance,"active"===i.instanceStatus)return i;if("error"===i.instanceStatus){const e=new Error(i.deploymentError);throw e.stack=i.deploymentErrorStack,e}return await s.sleep(n.interval),o()};return o()},remove:async(e,t,n)=>{n.timeout=n.timeout||6e4,n.interval=n.interval||500;const r=Date.now();await c(e,"remove",t,n);const o=async()=>{if(Date.now()-n.timeout>r)throw new Error(`Request timed out after ${n.timeout/1e3} seconds`);let i=await a(e,t.orgName||t.org,t.stageName||t.stage,t.appName||t.app,t.instanceName||t.name);if(i=i.instance,"inactive"===i.instanceStatus)return i;if("error"===i.instanceStatus){const e=new Error(i.deploymentError);throw e.stack=i.deploymentErrorStack,e}return await s.sleep(n.interval),o()};return o()}}}).call(this,n(2))},function(e,t,n){"use strict";const r=n(0);function o(e){if(!e)throw new Error('An "event" is required');if("object"!=typeof e)throw new Error('The "event" argument must be an object');const t=({event:e})=>{if(!e||"string"!=typeof e)throw new Error('The "event" property containing the event type is required and must be a string')};if(Array.isArray(e)){if(!e.length)throw new Error("Event batch must be non empty");let n,r;e.forEach(e=>{if(t(e),n&&(e.org_uid||e.orgUid)&&n!==(e.org_uid||e.orgUid))throw new Error("All events in batch must belong to the same org uid");if(r&&(e.org_name||e.orgName)&&r!==(e.org_name||e.orgName))throw new Error("All events in batch must belong to the same org name");n=e.org_uid||e.orgUid||n,r=e.org_name||e.orgName||r}),n&&(e[0].orgUid=e[0].org_uid=n),r&&(e[0].orgName=e[0].org_name=r)}else t(e);return e}function s(e,t,n){const r=e=>({event:e.event.trim(),user_uid:e.user_uid||e.userUid,stage_name:e.stage_name||e.stageName,app_name:e.app_name||e.appName,instance_name:e.instance_name||e.instanceName,component_name:e.component_name||e.componentName,component_version:e.component_version||e.componentVersion,data:e.data||{},created:e.created||Date.now()});let o;if(Array.isArray(e)){o={...r({event:"batch",data:e.map(e=>r(e))}),org_uid:e[0].orgUid||t.orgUid,org_name:e[0].orgName||t.orgName,stage_name:t.stageName,app_name:t.appName,instance_name:t.instanceName,component_name:t.componentName,component_version:t.componentVersion}}else{const n=r(e);o={...n,org_uid:e.org_uid||e.orgUid||t.orgUid,org_name:e.org_name||e.orgName||t.orgName,stage_name:n.stage_name||t.stageName,app_name:n.app_name||t.appName,instance_name:n.instance_name||t.instanceName,component_name:n.component_name||t.componentName,component_version:n.component_version||t.componentVersion}}if(!o.org_name&&!o.org_uid)throw new Error("Both event and SDK context are missing an org uid or name");return{...o,access_key:n}}e.exports.send=(e,t,n,r)=>{const i=s(o(e),n,r);if(!t||!t.isConnected())throw new Error("You are not currently connected to the Serverless Platform.");t.send(JSON.stringify(i))},e.exports.publish=(e,t,n,i)=>r.request({endpoint:t+"/publish",accessKey:i,method:"POST",data:s(o(e),n)}),e.exports.get=(e,t,n)=>r.request({endpoint:`${t}/events/${e}`,accessKey:n,method:"GET"}),e.exports.list=(e,t,n,o={})=>{const{org_name:s=null,org_uid:i=null,event:a="*",limit:c=10,created:u,starting_after:l}=o,p=new URLSearchParams({event:a,limit:c});if(i?p.append("org_uid",i):s?p.append("org_name",s):t.orgUid?p.append("org_uid",t.orgUid):t.orgName&&p.append("org_name",t.orgName),!p.has("org_uid")&&!p.has("org_name"))throw new Error("Must pass in options or set SDK context for `org_uid`/`org_name`");if(u)if(new Set(["number","string"]).has(typeof u))p.append("created.gt",u);else{if("object"==typeof a)throw new Error("The 'created' parameter must be either a integer Unix timestamp or a dictionary");{let e=!1;for(const t of["gt","gte","lt","lte"])if(u[t]){p.append("created."+t,u[t]),e=!0;break}if(!e)throw new Error("The 'created' dictionary parameter must have one of [gt|gte|lt|lte] set")}}return l&&p.append("starting_after",l),r.request({endpoint:`${e}/events?${p.toString()}`,accessKey:n,method:"GET"})}},function(e,t,n){"use strict";const r=n(3),o=n(0);e.exports={register:(e,t,n={})=>{if(!(n.org_uid||e.context.orgUid||n.org_name||e.context.orgName))throw new Error("Must pass in options or set SDK context for `org_uid`/`org_name`");return o.request({endpoint:e.getDomain("event-webhooks")+"/webhooks",method:"POST",accessKey:e.accessKey,data:{url:t,org_uid:n.org_uid||e.context.orgUid,org_name:n.org_name||e.context.orgName,description:n.description,filter:n.filter}})},list:(e,t,n)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks?${r.stringify({org_uid:e.context.orgUid,org_name:e.context.orgName,starting_after:t,limit:n})}`,method:"GET",accessKey:e.accessKey}),get:(e,t)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks/${t}`,method:"GET",accessKey:e.accessKey}),update:(e,t,n)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks/${t}`,method:"POST",data:{url:n.url,description:n.description,filter:n.filter,status:n.status},accessKey:e.accessKey}),remove:(e,t)=>o.request({endpoint:`${e.getDomain("event-webhooks")}/webhooks/${t}`,method:"DELETE",accessKey:e.accessKey})}},function(e,t,n){"use strict";const r=n(0);e.exports={create:(e,t,n,o)=>{if(!e.accessKey)throw new Error('An "accessKey" is required to create other Access Keys.');if(!t)throw new Error('An "orgName" is required to determine which Serverless Organization you would like to create an Access Key for.');if(!n)throw new Error('A "userName" is required to determine which User within the Serverless Organization you would like to create an Access Key for.');if(!o)throw new Error('An "accessKeyName" is required to name this Serverless Organization Access Key.');return r.request({endpoint:`${e.getDomain("core")}/core/tenants/${t}/accessKeys`,method:"POST",accessKey:e.accessKey,data:{userName:n,title:o}})},list:(e,t)=>{if(!e.accessKey)throw new Error('An "accessKey" is required to list Access Keys.');if(!t)throw new Error('An "orgName" is required to determine which Serverless Organization you would like to list Access Keys.');return r.request({endpoint:`${e.getDomain("core")}/core/tenants/${t}/accessKeys`,method:"GET",accessKey:e.accessKey})},remove:(e,t,n)=>{if(!e.accessKey)throw new Error('An "accessKey" is required to destroy Access Keys.');if(!t)throw new Error('An "orgName" is required to determine which Serverless Organization has the Access Key you would like to destroy.');if(!n)throw new Error('A "uid" is required to determine which Serverless Organization Access Key you would like to destroy.');return r.request({endpoint:`${e.getDomain("core")}/core/tenants/${t}/accessKeys/${n}`,method:"DELETE",accessKey:e.accessKey})},get:async e=>(await r.request({endpoint:e.getDomain("core")+"/core/tenants/accessKey/meta",method:"GET",accessKey:e.accessKey})).result}},function(e,t,n){"use strict";const r=n(0);e.exports={create:(e,t,n,o)=>r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections`,method:"POST",accessKey:e.accessKey,data:{providerUid:n,accountAlias:o}}),list:(e,t)=>r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections`,method:"GET",accessKey:e.accessKey}),get:(e,t,n)=>r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections/${n}`,method:"GET",accessKey:e.accessKey}),getByOrgAndAccountAlias:(e,t,n)=>r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connectionAlias/${n}`,method:"GET",accessKey:e.accessKey}),update:(e,t,n,o,s,i)=>r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections/${n}`,method:"PUT",accessKey:e.accessKey,data:{providerUid:o,accountAlias:s,status:i}}),remove:(e,t,n)=>r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/connections/${n}`,method:"DELETE",accessKey:e.accessKey}),syncAll:(e,t)=>{if(!t)throw new Error('An "orgUid" is required.');return r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/sync`,method:"POST",accessKey:e.accessKey})},unsync:(e,t,n)=>{if(!t)throw new Error('An "orgUid" is required.');if(!n)throw new Error('An "connectionUid" is required.');return r.request({endpoint:`${e.getDomain("connections")}/orgs/${t}/unsync/${n}`,method:"POST",accessKey:e.accessKey})}}},function(e,t,n){"use strict";const r=n(0);e.exports={createSavedQuery:async(e,t,n,o,s)=>r.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${n}/services/${o}/savedQueries`,method:"POST",accessKey:e.accessKey,data:s}),getSavedQuery:async(e,t,n,o,s)=>r.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${n}/services/${o}/savedQueries/${s}`,method:"GET",accessKey:e.accessKey}),updateSavedQuery:async(e,t,n,o,s,i)=>r.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${n}/services/${o}/savedQueries/${s}`,method:"PUT",accessKey:e.accessKey,data:i}),deleteSavedQuery:async(e,t,n,o,s)=>r.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${n}/services/${o}/savedQueries/${s}`,method:"DELETE",accessKey:e.accessKey}),listSavedQueries:async(e,t,n,o)=>r.request({endpoint:`${e.getDomain("desktop")}/orgs/${t}/apps/${n}/services/${o}/savedQueries`,method:"GET",accessKey:e.accessKey})}},function(e,t,n){"use strict";const r=n(0);e.exports={refreshToken:async(e,t)=>await r.request({endpoint:e.getDomain("core")+"/core/tokens/refresh",method:"POST",data:{refreshToken:t}})}},function(e,t,n){"use strict";const r=n(0);e.exports={get:async(e,{orgName:t,appName:n})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}`;return r.request({accessKey:e.accessKey,endpoint:o,method:"GET"})},create:async(e,{orgName:t,app:n})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications`;return r.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{tenantName:t,appName:n.name,title:n.name,description:n.description,deploymentProfiles:n.deploymentProfiles}})},update:async(e,{orgName:t,app:n})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${n.name}`;return r.request({accessKey:e.accessKey,endpoint:o,method:"PATCH",data:{appName:n.name,title:n.name,description:n.description,deploymentProfiles:n.deploymentProfiles}})},remove:async(e,{orgName:t,appName:n})=>{const o=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}`;return r.request({accessKey:e.accessKey,endpoint:o,method:"DELETE"})},list:async(e,{orgName:t})=>{const n=`${e.getDomain("core")}/core/tenants/${t}/applications`;return r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})}}},function(e,t,n){"use strict";const r=n(0);e.exports={get:async(e,{orgName:t,appName:n,serviceName:o})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!n)throw new Error('An "appName" is required to determine Serverless Application for service');if(!o)throw new Error('A "serviceName" is required to determine which service should be returned');const s=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}/services/${o}`;return r.request({accessKey:e.accessKey,endpoint:s,method:"GET"})},getStateVariable:async(e,{orgName:t,appName:n,serviceName:o,stageName:s,regionName:i,variableName:a})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!n)throw new Error('An "appName" is required to determine Serverless Application for service');if(!o)throw new Error('A "serviceName" is required to determine Service associated with State Variable');if(!s)throw new Error('A "stageName" is required to determine stage associated with State Variable');if(!i)throw new Error('A "regionName" is required to determine region associated with State Variable');if(!a)throw new Error('A "variableName" is required');const c=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}/services/${o}/stages/${s}/regions/${i}/outputs`;return r.request({endpoint:c,method:"POST",accessKey:e.accessKey,data:{outputName:a}})}}},function(e,t,n){"use strict";const r=n(0);e.exports={getOrCreate:async(e,{orgUid:t,appUid:n,serviceName:o,stageName:s,regionName:i,accountId:a})=>{const c=e.getDomain("core")+"/malt/destinations/create";return await r.request({accessKey:e.accessKey,endpoint:c,method:"POST",data:{tenantUid:t,appUid:n,serviceName:o,stageName:s,regionName:i,accountId:a}})},remove:async(e,{orgUid:t,appUid:n,serviceName:o,stageName:s,regionName:i})=>{const a=e.getDomain("core")+"/malt/destinations/delete";return await r.request({accessKey:e.accessKey,endpoint:a,method:"POST",data:{tenantUid:t,appUid:n,serviceName:o,stageName:s,regionName:i}})}}},function(e,t,n){"use strict";const r=n(0);e.exports={get:async(e,{orgName:t,appName:n,stageName:o,serviceName:s})=>{const i=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}/profileValue`,a=await r.request({endpoint:i,method:"POST",accessKey:e.accessKey,data:{stageName:o,serviceName:s}});return a||{secretValues:[],safeguardsPolicies:[],providerCredentials:null}},list:async(e,{orgName:t})=>{const n=`${e.getDomain("core")}/core/tenants/${t}/deploymentProfiles`;return r.request({endpoint:n,method:"GET",accessKey:e.accessKey})},create:async(e,{profileName:t,orgName:n,description:o="A description was not provided for this profile",secrets:s=[],safeguardsPolicies:i=[],providerCredentials:a=null})=>{const c=`${e.getDomain("core")}/core/tenants/${n}/deploymentProfiles`;return r.request({endpoint:c,method:"POST",accessKey:e.accessKey,data:{name:t,description:o,secrets:s,safeguardsPolicies:i,providerCredentials:a}})},setDefault:async(e,{appName:t,orgName:n,profileUid:o})=>{const s=`${e.getDomain("core")}/core/tenants/${n}/applications/${t}`;return r.request({endpoint:s,method:"PATCH",accessKey:e.accessKey,data:{deploymentProfiles:{default:o}}})}}},function(e,t,n){"use strict";const r=n(0);e.exports={get:async(e,{orgName:t})=>{const n=`${e.getDomain("core")}/core/tenants/${t}`;return await r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})},list:async(e,{username:t})=>{const n=`${e.getDomain("core")}/core/tenants?userName=${t}`;return await r.request({accessKey:e.accessKey,endpoint:n,method:"GET"})},create:async(e,{orgName:t,username:n,email:o,password:s})=>{if(!t)throw new Error('An "orgName" is required to create an organization.');const i=e.getDomain("core")+"/core/tenants";return r.request({endpoint:i,method:"POST",data:{ownerUserName:n||t,ownerPassword:s,ownerEmail:o,title:t,tenantName:t}})},validate:async(e,{orgName:t,username:n})=>{if(!t)throw new Error('An "orgName" is required for validation.');const o=e.getDomain("core")+"/core/validate/tenants",s=await r.request({accessKey:e.accessKey,endpoint:o,method:"POST",data:{ownerUserName:n||t,title:t,tenantName:t}});return s&&s.validationErrors&&s.validationErrors.length?s.validationErrors:null}}},function(e,t,n){"use strict";const r=n(0);e.exports={get:async e=>{const t=e.getDomain("core")+"/core/meta";return await r.request({accessKey:e.accessKey,endpoint:t,method:"GET"})}}},function(e,t,n){"use strict";const r=n(3),o=n(0);e.exports={create:async(e,{orgName:t,appName:n,serviceName:r,stageName:s,regionName:i,deploymentData:a})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!n)throw new Error('An "appName" is required to determine Serverless Application for service');if(!r)throw new Error('A "serviceName" is required to determine which service should be archived');if(!s)throw new Error('A "stageName" is required');if(!i)throw new Error('A "regionName" is required');if(!a)throw new Error('A "deploymentData" is required');const c={tenantName:t,appName:n,serviceName:r,stageName:s,regionName:i,...a},u=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}/services/${r}/stages/${s}/regions/${i}/deployments`;return o.request({endpoint:u,method:"POST",accessKey:e.accessKey,data:c})},list:async(e,{orgName:t,appName:n,serviceName:s,stageName:i,regionName:a,cursor:c})=>{if(!t)throw new Error('An "orgName" is required to determine Serverless Organization for service');if(!n)throw new Error('An "appName" is required to determine Serverless Application for service');if(!s)throw new Error('A "serviceName" is required to determine which service should be archived');if(!i)throw new Error('A "stageName" is required');if(!a)throw new Error('A "regionName" is required');let u=`${e.getDomain("core")}/core/tenants/${t}/applications/${n}/services/${s}/stages/${i}/regions/${a}/deployments`;return c&&(u+="?"+r.stringify({"x-cursor":c})),o.request({endpoint:u,method:"GET",accessKey:e.accessKey})}}}])}));
//# sourceMappingURL=serverless-platform-client.min.js.map